{% extends 'base.html' %}

{% block title %}
{{ block.super }} - cancel schedule
{% endblock %}

{% block stylesheets %}
{{ block.super }}
<link rel="stylesheet" href="https://code.jquery.com/ui/1.14.1/themes/base/jquery-ui.css">
<style>
    /* Styling for the table */
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    th,
    td {
        padding: 12px;
        text-align: left;
        border: 1px solid #ddd;
    }

    th {
        background-color: #f4f4f4;
        color: #333;
        font-weight: bold;
    }

    tr:nth-child(even) {
        background-color: #f9f9f9;
    }

    tr:hover {
        background-color: #f1f1f1;
    }

    .table-container {
        overflow-x: auto;
    }

    .action-buttons {
        display: flex;
        justify-content: space-between;
        width: 100px;
    }

    .action-buttons button {
        padding: 5px 10px;
        background-color: #007bff;
        border: none;
        color: white;
        border-radius: 3px;
        cursor: pointer;
    }

    .action-buttons button:hover {
        background-color: #0056b3;
    }
</style>
{% endblock %}

{% block content %}
{% load static %}
<div class="row py-5 view-cart-items" style="background-color: rgb(241, 243, 193);">
    <div class="col-md-4 py-5">
        <div class="py-4 px-5 m-5 bg-white shadow-lg rounded-1 cart_summary" style="width: 100%;">
            <label for="">Mobile
                <span style="color: red;">*</span>
            </label>
            <input type="text" class="form-control mobile_number">
            <label class="form-label" for="datepicker">Appointment date
                <span style="color: red;">*</span></label>
            <input type="text" id="datepicker" class="form-control appointment_date" name="appointment_date" />
            <p style="display:none;">Format options:<br>
                <select id="format">
                    <option value="mm/dd/yy">Default - mm/dd/yy</option>
                    <option value="yy-mm-dd">ISO 8601 - yy-mm-dd</option>
                    <option value="d M, y">Short - d M, y</option>
                    <option value="d MM, y">Medium - d MM, y</option>
                    <option value="DD, d MM, yy">Full - DD, d MM, yy</option>
                    <option value="'day' d 'of' MM 'in the year' yy">With text - 'day' d 'of' MM 'in the year' yy
                    </option>
                </select>
            </p>
            <br>
            <button class="btn btn-lg search_appointment" style="background-color: cadetblue;">Search</button>
        </div>
    </div>
    <div class="col-md-8 py-5">
        <div class="py-4 px-5 m-5 bg-white shadow-lg rounded-1 cart_items" style="width: 90%;">
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Patient Name</th>
                            <th>Patient ID</th>
                            <th>Mobile</th>
                            <th>Booking Date</th>
                            <th>Time Slot</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="table_body">
                        <!-- Sample data row -->
                        <!-- <tr>
                            <td>John Doe</td>
                            <td>12345</td>
                            <td>9876543210</td>
                            <td>01/30/2025</td>
                            <td>10:00 AM - 11:00 AM</td>
                            <td>
                                <div class="action-buttons">
                                    <button>Edit</button>
                                    <button>Cancel</button>
                                </div>
                            </td>
                        </tr> -->
                        <!-- Add more rows here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascript %}
{{ block.super }}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.14.1/jquery-ui.min.js"></script>
<script>
    $(function () {
        $("#datepicker").datepicker();  // Initialize the datepicker

        // Update the date format when the select option changes
        $("#format").on("change", function () {
            $("#datepicker").datepicker("option", "dateFormat", $(this).val());
        });
    });
    if ($('#table_body').children().length === 0) {
        $('#table_body').append("<tr><td colspan='6' style='text-align: center;'>No recorded data</td></tr>");
    }
    $('body').on('click', '.search_appointment', function () {
        mobile = $('.mobile_number').val()
        appointment_date = $('.appointment_date').val()
        console.log(mobile, appointment_date)
    })
</script>
{% endblock %}